<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Jakarta Slide - Lock Helper</title>
<meta value="Remy Maucherat" name="author">
<meta value="remm@apache.org" name="email">
</head>
<body vlink="#525D76" alink="#525D76" link="#525D76" text="#000000" bgcolor="#ffffff">
<table cellspacing="4" width="100%" border="0">
<!--PAGE HEADER-->
<tr>
<td colspan="2">
<!--JAKARTA LOGO--><a href="http://jakarta.apache.org/"><img border="0" alt="The Jakarta Project" align="left" src="./images/jakarta-logo.gif"></a>
<!--PROJECT LOGO--><a href="http://jakarta.apache.org/slide/"><img border="0" alt="The Jakarta Slide Project" align="right" src="./images/Slide.gif"></a></td>
</tr>
<!--HEADER SEPARATOR-->
<tr>
<td colspan="2">
<hr size="1" noshade="">
</td>
</tr>
<tr>
<!--LEFT SIDE NAVIGATION-->
<td nowrap="true" valign="top" width="20%">
<p>
<strong>Main</strong>
</p>
<ul>
<li>
<a href="index.html">Introduction</a>
</li>
<li>
<a href="news.html">News</a>
</li>
<li>
<a href="http://jakarta.apache.org/site/binindex.html">Downloads</a>
</li>
<li>
<a href="status.html">Status</a>
</li>
<li>
<a href="changelog.html">Changelog</a>
</li>
<li>
<a href="contrib.html">Contributors</a>
</li>
</ul>
<p>
<strong>Resources</strong>
</p>
<ul>
<li>
<a href="http://faq.globalvision.com.au/">FAQ</a>
</li>
<li>
<a href="http://jakarta.apache.org/site/mail.html">Mailing Lists</a>
</li>
<li>
<a href="http://jakarta.apache.org/builds/gump/latest/jakarta-slide.html">Build Status</a>
</li>
<li>
<a href="http://jakarta.apache.org/site/cvsindex.html">CVS</a>
</li>
<li>
<a href="library.html">Library</a>
</li>
</ul>
<p>
<strong>User's Guide</strong>
</p>
<ul>
<li>
<a href="server.html">Server</a>
</li>
<li>
<a href="webdav-client.html">Client</a>
</li>
</ul>
<p>
<strong>Administrator's Guide</strong>
</p>
<ul>
<li>
<a href="installation.html">Installation</a>
</li>
<li>
<a href="conf-lib.html">Configuration</a>
</li>
</ul>
<p>
<strong>HOW-TOs</strong>
</p>
<ul>
<li>
<a href="howto-tomcat.html">Tomcat Howto</a>
</li>
<li>
<a href="howto-jdbcstore.html">JDBC Stores Howto</a>
</li>
<li>
<a href="howto-j2eestore.html">J2EE Stores Howto</a>
</li>
</ul>
<p>
<strong>Programmer's Corner</strong>
</p>
<ul>
<li>
<a href="architecture.html">Architecture</a>
</li>
<li>
<a href="domain.html">Domain</a>
</li>
<li>
<a href="namespace.html">Namespace</a>
</li>
<li>
<a href="examples.html">Examples</a>
</li>
</ul>
<p>
<strong>Slide API</strong>
</p>
<ul>
<li>
<a href="structure.html">Structure</a>
</li>
<li>
<a href="security.html">Security</a>
</li>
<li>
<a href="lock.html">Lock</a>
</li>
<li>
<a href="version.html">Content</a>
</li>
<li>
<a href="macro.html">Macro</a>
</li>
<li>
<a href="search.html">Index</a>
</li>
<li>
<a href="process.html">Process</a>
</li>
</ul>
<p>
<strong>Reference</strong>
</p>
<ul>
<li>
<a href="uml/index.html">UML</a>
</li>
<li>
<a href="javadoc/index.html">JavaDoc</a>
</li>
<li>
<a href="clientjavadoc/index.html">WebDAV Client Javadoc</a>
</li>
<li>
<a href="jstl-taglib.html">Tag Library (JSTL)</a>
</li>
<li>
<a href="struts-taglib.html">Tag Library (Struts)</a>
</li>
</ul>
</td>
<!--RIGHT SIDE MAIN BODY--><td align="left" valign="top" width="80%">
<body>
  
    
<table width="100%" cellpadding="2" cellspacing="0" border="0">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Overview"><strong>Overview</strong></a></font></td>
</tr>
<tr>
<td>
<blockquote>

        
<p>Locking is an integral part of Slide.  Its model resembles in many ways the security model.  When a subject (ie. a user) wants to lock a subject (ie. a file), it specifies which actions (ie. read) are locked and for how long.
        </p>

        
<p>Slide automatically checks if a subject is locked before every action. Alternatively, the client application can directly check for whether a particular subject is locked or whether it can actually lock a given subject.
        </p>

    
</blockquote>
</td>
</tr>
</table>

    
<table width="100%" cellpadding="2" cellspacing="0" border="0">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Principles"><strong>Principles</strong></a></font></td>
</tr>
<tr>
<td>
<blockquote>

        
<p>Every <tt>SubjectNode</tt> can potentially be locked.  A lock consist of the following information tuple:
<pre>
(target subject,      owner subject,    locked action,   duration,    inheritance)
</pre>
        
</p>

        
<p>Here are examples of locks :
<pre>
(/foo/document.txt,  /user/dave,        /actions/read,     10m,       no)
(/foo/document.txt,  /user/dave,        /actions/write,    10m,       no)
(/foo,               /user/john,        /actions/read,     5m,        yes)
</pre>
        
</p>

        
<p>Same as permissions, locks granted on an object are inherited (unless specified otherwise during locking) by the children of the object. For example, a lock obtained on object whose URI is <tt>/foo</tt> would also apply to the object <tt>/foo/bar</tt>.</p>

    
</blockquote>
</td>
</tr>
</table>

    
<table width="100%" cellpadding="2" cellspacing="0" border="0">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Behavior"><strong>Behavior</strong></a></font></td>
</tr>
<tr>
<td>
<blockquote>

        
<p>Slide automatically enforces all locks through the use of helper functions used by the client application. If a subject (ie. a file) is accessed and the action is already locked by another subject (ie. another client) an <tt>ObjectLockedException</tt> is thrown, which is a checked exception, so the client application will know that an underlying lock check failed, and will take appropriate actions.</p>

    
</blockquote>
</td>
</tr>
</table>

  
<table width="100%" cellpadding="2" cellspacing="0" border="0">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="Object Model"><strong>Object Model</strong></a></font></td>
</tr>
<tr>
<td>
<blockquote>
    
    
<table width="100%" cellpadding="2" cellspacing="0" border="0">
<tr>
<td bgcolor="#828DA6"><font face="arial,helvetica.sanserif" color="#ffffff"><a name="NodeLock"><strong>NodeLock</strong></a></font></td>
</tr>
<tr>
<td>
<blockquote>
    
      
<p>
        The NodeLock class represents a lock.
      </p>
    
      
<p>
        
        
<ul>
          
<li>
            Id: Lock Id (unique).
          </li>
          
<li>
            Object: Uri of the node associated to the lock.
          </li>
          
<li>
            Subject: Lock owner.
          </li>
          
<li>
            Type: Action which is locked (to perform the action, the
            lock Id must be present in the SlideToken).
          </li>
          
<li>
            Exclusive: True if the lock is exclusive. Multiple non-exclusive
            locks can be obtained on the same node for the same action (type).
          </li>
          
<li>
            Inheritable: True if the lock also applies to the children of the
            node it is associated with.
          </li>
        
</ul>
        
      
</p>
      
    
</blockquote>
</td>
</tr>
</table>
    
  
</blockquote>
</td>
</tr>
</table>
    
  
</body>
</td>
</tr>
<!--FOOTER SEPARATOR-->
<tr>
<td colspan="2">
<hr size="1" noshade="">
</td>
</tr>
<!--PAGE FOOTER-->
<tr>
<td colspan="2">
<div align="center">
<font size="-1" color="#525D76"><em>
        Copyright &copy; 1999-2001, Apache Software Foundation
        </em></font>
</div>
</td>
</tr>
</table>
</body>
</html>
